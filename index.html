<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="images/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="fonts/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="js/libs/jquery.scrollify.js"></script>
    <script src="js/animations/logo.js"></script>
    <script src="js/animations/logo_dot.js"></script>
    <script src="js/main.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <title>Craft IT</title>

    <script>
        $(document).ready(function () {
            let logoDotContainer = $('logo-dot');
            logoDotContainer.hide();
            logoDotContainer.initializeLogoDotEffect();

            let logoContainer = $('<div></div>', { class: 'p logo-effect-container', style: 'display: none' });
            logoDotContainer.find('.content-image').append(logoContainer);
            logoContainer.initializeLogoEffect();
            logoDotContainer.show().toggleClass('animated');
            setTimeout(function () {
                logoContainer.show().addClass('animated');
                setTimeout(function () {
                    initContentMenu(['IT WORKSHOP FOR BESKOPEN SOLUTION IN RISK MANAGEMENT'], function () {
                        addHeader();
                        let nextPageButton = $('<div></div>', { class: 'btn-next-page' })
                            .append($('<i></i>', { class: 'arrow-down fa fa-chevron-down', 'aria-hidden': true, alt: 'next-section' }));

                        $('.craft-footer ').prepend(nextPageButton);

                        var isSCrolling = false;
                        let arrow = $('.arrow-down');
                        let footerAnimations = $('.craft-footer .footer-item');
                        let animationCount = 0;
                        for (var i = 0; i < footerAnimations.length; i++) {
                            let animationIndex = $(footerAnimations[i]).attr('animation-order');
                            if (animationIndex > animationCount)
                                animationCount = animationIndex;
                        }

                        let currentAnimationIndex = 0;
                        arrow.on('click', function () {
                            isSCrolling = true;
                            ++currentAnimationIndex;
                            if (currentAnimationIndex > animationCount) {
                                isSCrolling = false;
                                return;
                            }

                            footerAnimations.filter('.animated').addClass('to-hide');

                            let animation = footerAnimations.filter('[animation-order="' + currentAnimationIndex + '"]');
                            animation.addClass('animated');

                            if (currentAnimationIndex == animationCount)
                                arrow.hide();

                            setTimeout(function () { isSCrolling = false; }, 1500);
                        });

                        arrow.click();
                        $(window).on('wheel', function (e) {

                            if (isSCrolling)
                                return;

                            isSCrolling = true;
                            let delta = getDelta(e);

                            if (delta < 0) {
                                arrow.click();
                            }
                        });

                        function getDelta(e) {
                            let value;
                            if (e.originalEvent) {
                                value = e.originalEvent.wheelDelta || -e.originalEvent.deltaY || -e.originalEvent.detail;
                            } else {
                                value = e.wheelDelta || -e.deltaY || -e.detail;
                            }

                            return Math.max(-1, Math.min(1, value));
                        }

                    }, 20);
                }, 2000);
            }, 2000);
        });
    </script>
    <style>
        /*Arrow scrolling*/
        .btn-next-page {
            transform: matrix(1, 0, 0, 1, 0, 0);
            position: fixed;
            bottom: 3%;
            left: 50%;
            z-index: 999999;
        }

            .btn-next-page .arrow-down {
                display: block;
                margin: 0 auto;
                opacity: 0;
                animation: jump .6s linear alternate infinite;
                animation-fill-mode: forwards;
            }

            .btn-next-page i.arrow-down {
                font-size: 50px;
                color: white;
                cursor: pointer;
            }
            
        @keyframes jump {
            from {
                opacity: 1;
                transform: translateY(0);
            }

            to {
                opacity: 1;
                transform: translateY(10px);
            }
        }
        /*Arrow scrolling*/

        div.container {
            padding: 0;
            height: 100%;
            width: 100%;
            display: grid;
            align-self: stretch;
            grid-template-columns: 0.2fr 1fr 0.2fr;
            grid-template-rows: 1fr;
            grid-template-areas: ". content .";
        }

        div.content {
            position: relative;
            grid-area: content;
            display: grid;
            place-content: center;
            grid-template-rows: 1fr;
            grid-template-columns: 1fr;
            place-items: center;
            justify-items: start;
            align-items: center;
        }

        .content-menu {
            width: 100%;
        }

        .footer-item {
            position: absolute;
            top: 100%;
        }

            .footer-item.animated.to-hide {
                animation: toHide 2s ease forwards;
            }

        @keyframes toHide {

            from {
                right: 10%;
                top: 20%;
            }

            to {
                right: 10%;
                top: -50%;
                opacity: 0;
            }
        }

        .footer-item.animated.dream {
            left: 5%;
            top: 10%;
            transition: top ease 2s;
        }

        .dream, .draft, .craft {
            width: 25%;
        }

        :is(.dream, .draft, .craft) img {
            width: 100%;
        }

        .footer-item.animated.draft, .footer-item.animated.button {
            left: 37%;
            top: 10%;
            transition: top ease 2s;
        }

        .footer-item.animated.craft {
            right: 5%;
            top: 10%;
            transition: top ease 2s;
        }

        .text {
            padding-top: 2vw;
        }

    </style>
</head>
<body>
    <logo-dot></logo-dot>
    <section class="craft-it">
        <div class="container">
            <div class="content">
                <div class="content-menu">
                    <p class="menu-item" data-display="footer"></p>
                </div>
            </div>
        </div>

        <div class="craft-footer content-menu-display" data-display="footer">
            <div class="footer-item" animation-order="1" style="font-size: 2vw; right: 10%; top: 20%;">
                <p>
                    We believe it's up to the IT
                </p>
                <p>to adapt to your needs. Not you.</p>
            </div>
            <div class="footer-item dream" animation-order="2" style="">
                <div class="">
                    <img src="images/dream.png" />
                    <p class="text">
                        Aximus, merum diis. Mae conderitil hortero
                        rurortuidi, con sil trissus hactum sendi
                    </p>
                </div>
            </div>
            <div class="footer-item draft" animation-order="2" style="">
                <div class="">
                    <img src="images/draft.png" />
                    <p class="text">
                        Nihilii sendam, Castrum et videmunu
                        inteatqua et Catus, que conericivir imis
                    </p>
                </div>
            </div>
            <div class="footer-item craft" animation-order="2" style="">
                <div class="">
                    <img src="images/craft.png" />
                    <p class="text">
                        Ad coniquam ponihin sulius re in igitin
                        redetil inpres! Viverni prium ut re inpred
                    </p>
                </div>
            </div>
            <div class="footer-item button" animation-order="3" style="">
                <div class="" style=" display: flex; flex-direction: column; align-items: center;">
                    <h1 class="text" style="padding-bottom: 2vw;">
                        Discover what we do
                    </h1>
                    <button class="find-out" onclick="redirect('what-we-do', 'var(--red)')">
                        <span class="arrow">More</span>
                    </button>
                </div>
            </div>
        </div>
    </section>
</body>
</html>
